<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Bowser Fire Battle</title>

<style>
body {
  margin: 0;
  background: #222;
  color: white;
  font-family: Arial, sans-serif;
  text-align: center;
}

#game {
  width: 600px;
  height: 400px;
  background: linear-gradient(#5c94fc, #3b7);
  margin: 20px auto;
  position: relative;
  overflow: hidden;
  border: 4px solid #000;
}

#bowser {
  width: 50px;
  height: 50px;
  background: green;
  border-radius: 10px;
  position: absolute;
  bottom: 10px;
  left: 275px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 30px;
}

.fireball {
  width: 10px;
  height: 20px;
  background: orange;
  position: absolute;
  border-radius: 5px;
}

.enemy {
  width: 40px;
  height: 40px;
  background: red;
  position: absolute;
  top: 0;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
}

#score {
  font-size: 20px;
}
</style>
</head>

<body>

<h1>üî• Bowser Fire Battle üî•</h1>
<p>Arrow keys to move ‚Äî Space to shoot</p>
<div id="score">Score: 0</div>

<div id="game">
  <div id="bowser">üê¢</div>
</div>

<script>
const game = document.getElementById("game");
const bowser = document.getElementById("bowser");
const scoreDisplay = document.getElementById("score");

let score = 0;
let gameOver = false;
let bowserX = 275;

document.addEventListener("keydown", (e) => {
  if (gameOver) return;

  if (e.key === "ArrowLeft" && bowserX > 0) {
    bowserX -= 20;
  }
  if (e.key === "ArrowRight" && bowserX < 550) {
    bowserX += 20;
  }
  if (e.code === "Space") {
    shoot();
  }

  bowser.style.left = bowserX + "px";
});

function shoot() {
  const fireball = document.createElement("div");
  fireball.classList.add("fireball");
  fireball.style.left = bowserX + 20 + "px";
  fireball.style.bottom = "60px";
  game.appendChild(fireball);

  let fireInterval = setInterval(() => {
    fireball.style.bottom =
      parseInt(fireball.style.bottom) + 10 + "px";

    document.querySelectorAll(".enemy").forEach(enemy => {
      if (isColliding(fireball, enemy)) {
        enemy.remove();
        fireball.remove();
        clearInterval(fireInterval);
        score += 10;
        scoreDisplay.innerText = "Score: " + score;
      }
    });

    if (parseInt(fireball.style.bottom) > 400) {
      fireball.remove();
      clearInterval(fireInterval);
    }
  }, 30);
}

function spawnEnemy() {
  if (gameOver) return;

  const enemy = document.createElement("div");
  enemy.classList.add("enemy");
  enemy.innerText = "üëæ";
  enemy.style.left = Math.random() * 560 + "px";
  enemy.style.top = "0px";
  game.appendChild(enemy);

  let enemyInterval = setInterval(() => {
    enemy.style.top =
      parseInt(enemy.style.top) + 3 + "px";

    if (isColliding(enemy, bowser)) {
      gameOver = true;
      alert("üíÄ Game Over! Final Score: " + score);
      location.reload();
    }

    if (parseInt(enemy.style.top) > 400) {
      enemy.remove();
      clearInterval(enemyInterval);
    }
  }, 40);
}

function isColliding(a, b) {
  const ar = a.getBoundingClientRect();
  const br = b.getBoundingClientRect();
  return !(
    ar.top > br.bottom ||
    ar.bottom < br.top ||
    ar.right < br.left ||
    ar.left > br.right
  );
}

setInterval(spawnEnemy, 1500);
</script>

</body>
</html>